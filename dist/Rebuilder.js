import{BufferBuilder as e}from"@triforce-heroes/triforce-core/BufferBuilder";import n from"iconv-lite";export function rebuild(t,i){let r=new e,d=new e;for(let[e,o]of(r.writeString("NLOC"),r.writeUnsignedInt32(2),r.writeUnsignedInt32(t),r.writeUnsignedInt32(i.length),r.writeUnsignedInt32(0),i))r.writeUnsignedInt32(e),r.writeUnsignedInt32(d.length/4),d.writeString(n.encode(o,"utf-32le")),d.writeUnsignedInt32(0);r.push(d.build());let o=new e;return o.writeUnsignedInt32(302149664),o.writeUnsignedInt32(r.length),o.pad(512),r.pad(512),Buffer.concat([o.build(),r.build()])}